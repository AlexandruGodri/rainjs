<!DOCTYPE html>
<html>
    <head>
        <title>{{name}}</title>
        <script type="text/javascript" src="/core/js/ecma5-1.2.1-min.js"></script>
        <script type="text/javascript" src="/core/js/require-jquery.js"></script>
        <script type="text/javascript">
            var requireConfig = {
                "debug": ('{{server.env}}' == 'production'? 'false' : 'true'),
                "baseUrl": "/",
                "priority": ["core/js/raintime/raintime"]
            };
            var renderQueueList = [];
            function renderQueue(){
                var len = renderQueueList.length;
                if(len > 0){
                    for(var i = 0; i < len; i++){
                        clientRenderer.renderComponent(renderQueueList[i]);
                    }
                    renderQueueList = [];
                }
            }

            function renderComponent(component) {
                if (!component){
                    renderQueue();
                    return;
                }
                if (window.clientRenderer == undefined) {
                    renderQueueList.push(component);
                } else {
                    renderQueue();
                    clientRenderer.renderComponent(component);
                }
            }

            require(requireConfig, ["core/js/raintime/client_rendering"], function(clientRenderer) {
                clientRenderer.setPlaceholderTimeout({{placeholderTimeout}});
                clientRenderer.setPlaceholder({{{placeholder}}});
                if(renderQueueList.length == 0){
                    clientRenderer.renderPlaceholder($($('body div').get(0)).attr('id'));
                }
                renderQueue();
            });
        </script>
    </head>
    <body>
        {{component name=name version=version view=viewId data=data}}
    </body>
</html>
